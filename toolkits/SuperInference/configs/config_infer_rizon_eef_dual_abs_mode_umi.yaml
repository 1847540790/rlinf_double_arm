defaults:
  - devices: infer_rizon_eef_dual_abs_mode_umi
  - device_manager: infer_rizon_eef_dual
  - action_executor: infer_rizon_eef_dual
  - consumer: default
  - runtime: default
  - _self_

# Camera configuration - modify these to change camera IDs
camera:
  left_id: 0
  right_id: 2

# Robot configuration
robot:
  home: 0  # Home preset index (0-5)

shared:
  summary_shm_name: device_summary_data
  policy_shm_name: policy_actions

global_settings:
  log_level: INFO
  restart_on_failure: true
  max_restart_attempts: 3
  restart_delay: 2.0
  device_init_delay: 12.0

hydra:
  run:
    dir: .
  output_subdir: null

summary_shm: device_summary_data

policy:
  class: DiffusionPolicy
  params:
    ckpt_dir: "/home/zixiying/Desktop/xuehan/SuperInference_replay_debug/data/outputs/2025.09.29_pick_umi_mask_bf16/09.28.16"
    num_inference_steps: 16
    device: "cuda"
    obs_time_interval: 0.04
    tcp_umi_json_path: "/home/zixiying/Desktop/yesen/SuperInference/calibration/tcp_to_vive_transform.json"
    mask_inference: true
    left_mask_offset_path: "/home/zixiying/Desktop/yesen/SuperInference/calibration/mask_offset/left/robot2center_left.json"
    right_mask_offset_path: "/home/zixiying/Desktop/yesen/SuperInference/calibration/mask_offset/right/robot2center_right.json"
    visualize_mask_offset: false
    mask_offset_visual_scale: 0.4
    apply_camera_mask: true
    left_mask_image_path: "/home/zixiying/Desktop/yesen/SuperInference/calibration/masks/robot/mapped/robot2center_left_centered.png"
    right_mask_image_path: "/home/zixiying/Desktop/yesen/SuperInference/calibration/masks/robot/mapped/robot2center_right_centered.png"
    visualize_mask_application: false
    # Image preprocessing parameters
    preprocess_resize_height: 300
    preprocess_resize_width: 400
    center_crop_min_ratio: 0.05
    center_crop_max_ratio: 0.95
  fps: 1.5
  original_chunk_length: 40
  chunk_length: 16
  robot_latency_steps: 5
  gripper_latency_steps: 5
  policy_shm_name: "policy_actions"
  obs:
    devices:
      - "OpenCVCameraDevice_${camera.left_id}"
      - "OpenCVCameraDevice_${camera.right_id}"
      - "RizonRobot_1"
  controls:
    - shm: "RizonRobot_1_control"
      shape: [16]
      dtype: "float64"
  infer_recorder:
    enabled: true
    camera_id: 6
    save_path: ${policy.params.ckpt_dir}/recordings
    width: 640
    height: 480
    fps: 10.0
    scale: 0.4
    show_window: true
    enable_recording: true
    auto_start_recording: true
    record_key: "r"
    window_name: "Inference Recorder"


