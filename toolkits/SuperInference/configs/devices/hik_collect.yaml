# File: configs/devices/eef_dual_umi.yaml
# Description: Device configuration for UMI dual-arm evaluation (cameras, grippers, Vive trackers).
# Author: SuperInference Contributors
# Date: 2025-10-11

devices:
  - class: "HikCameraDevice"
    device_id: ${camera.left_id} # left camera
    #data_shape: [1440, 1080, 3]
    data_shape: [360, 270, 3]
    fps: 25.0
    data_dtype: "uint8"
    buffer_size: 200
    hardware_latency_ms: 80.0
    # Hikvision camera hardware parameters
    pixel_format: "RGB8"  # Pixel format (must be set first)
    frame_rate_enable: true  # Enable frame rate control
    exposure_time: 5000.0  # Exposure time in microseconds
    gain: 16.9807  # Gain in dB
    gamma_enable: true  # Enable gamma correction
    gamma: 0.68  # Gamma value
    rotation_angle: 90  # Rotate frame clockwise (supports 0/90/180/270)



  - class: "HikCameraDevice"
    device_id: ${camera.right_id} # right camera
#    data_shape: [1440, 1080, 3]
    data_shape: [360, 270, 3]
    fps: 25.0
    data_dtype: "uint8"
    buffer_size: 200
    hardware_latency_ms: 80.0
    # Hikvision camera hardware parameters
    pixel_format: "RGB8"  # Pixel format (must be set first)
    frame_rate_enable: true  # Enable frame rate control
    exposure_time: 5000.0  # Exposure time in microseconds
    gain: 16.9807  # Gain in dB
    gamma_enable: true  # Enable gamma correction
    gamma: 0.68  # Gamma value
    rotation_angle: 90  # Rotate frame clockwise (supports 0/90/180/270)



  - class: "RotaryEncoderDevice"
    device_id: 0 # left gripper
    data_shape: [1]  # Width data in mm
    fps: 40.0
    data_dtype: "float64"
    buffer_size: 100
    hardware_latency_ms: 5.0
    port: "/dev/ttyUSB0"  # Serial port for encoder communication
    baudrate: 57600     # 1MHz baudrate
    calibration_file: "calibration/gripper_width_calibration_v1_left.csv"  # Calibration file path

  - class: "RotaryEncoderDevice"
    device_id: 1 # right gripper
    data_shape: [1]  # Width data in mm
    fps: 40.0
    data_dtype: "float64"
    buffer_size: 100
    hardware_latency_ms: 5.0
    port: "/dev/ttyUSB1"  # Serial port for encoder communication
    baudrate: 57600     # 1MHz baudrate
    calibration_file: "calibration/gripper_width_calibration_v1_right.csv"  # Calibration file path

  - class: "ViveTrackerDevice"
    device_id: 0 # unified umi tracker device
    data_shape: [2, 7]  # [x, y, z, qx, qy, qz, qw] for 2 trackers (quaternion in x,y,z,w format)
    fps: 90.0
    data_dtype: "float64"
    buffer_size: 200
    hardware_latency_ms: 20.0
    tracker_roles: ['left_foot', 'right_foot']  # Roles for left and right UMI trackers


